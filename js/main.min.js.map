{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","Sort","Header","fixWidows","each","string","html","replace","Layout","$header","length","bindMenuToggles","bindTitleSection","hoverIntent","toggleClass","bind","event","preventDefault","hasClass","removeClass","addClass","menu","attr","toggleMenu","target","is","closeMenu","menuName","$menu","siteUrl","location","origin","pathname","queryVar","queryString","paramList","paramArray","search","substring","split","toggleCats","bindSortToggle","on","catSlug","changeSortQuery","toggleParam","newUrl","foundInQuery","inArray","splice","indexOf","join","push","history","replaceState","slugArray","hide","i","show","jQuery","document","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Site, Modernizr */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    _this.Sort.init();\n\n    _this.Header.init();\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\nSite.Layout = {\n\n};\n\nSite.Header = {\n  $header: $('#header'),\n  init: function() {\n    var _this = this;\n\n    if ($('.menu-trigger').length) {\n      _this.bindMenuToggles();\n    }\n\n    if ($('.menu-post-type').length) {\n      _this.bindTitleSection();\n    }\n  },\n\n  bindTitleSection: function() {\n    $('.menu-post-type').hoverIntent(function () {\n      $('#site-title-holder').toggleClass(\"hide-section\");\n    });\n  },\n\n  bindMenuToggles: function() {\n    var _this = this;\n\n    $('.menu-trigger').bind('click', function(event) {\n      event.preventDefault();\n\n      if ($(this).hasClass('active')) {\n        $(this).removeClass('active');\n      } else {\n        $('.menu-item.active').removeClass('active');\n        $(this).addClass('active');\n      }\n\n      var menu = $(this).attr('data-trigger');\n\n      _this.toggleMenu(menu);\n    });\n\n    $('#header').bind('click', function(event) {\n      if (!$(event.target).is('#header *')) {\n        _this.closeMenu();\n        return false;\n      }\n    });\n  },\n\n  closeMenu: function() {\n    var _this = this;\n\n    if (_this.$header.hasClass('open')) {\n      $('.menu-item.active').removeClass('active');\n      _this.$header.removeClass('open projects-open sort-open');\n      $('.sub-menu.active').removeClass('active');\n    }\n  },\n\n  toggleMenu: function(menuName) {\n    var _this = this;\n    var $menu = $('#' + menuName + '-menu');\n\n    if ($menu.hasClass('active')) {\n      $menu.removeClass('active');\n      _this.$header.removeClass('open projects-open sort-open');\n    } else {\n      $('.sub-menu.active').removeClass('active');\n      $menu.addClass('active');\n      _this.$header.removeClass('projects-open sort-open');\n      _this.$header.addClass('open ' + menuName + '-open');\n    }\n  }\n};\n\nSite.Sort = {\n  siteUrl: window.location.origin + window.location.pathname,\n  queryVar: 'sort',\n  queryString: '',\n  paramList: '',\n  paramArray: [],\n\n  init: function() {\n    var _this = this;\n\n    _this.queryString = window.location.search.substring(1);\n\n    if (_this.queryString) {\n      _this.paramList = _this.queryString.replace(_this.queryVar + '=', '');\n      _this.paramArray = _this.paramList.split('+');\n\n      _this.toggleCats(_this.paramArray);\n    }\n\n    if ($('.sort-toggle').length) {\n      _this.bindSortToggle();\n    }\n\n  },\n\n  bindSortToggle: function() {\n    var _this = this;\n\n    $('.sort-toggle').on('click', function(event) {\n      event.preventDefault();\n\n      var catSlug = $(this).attr('data-cat');\n\n      _this.changeSortQuery(catSlug);\n    });\n  },\n\n  changeSortQuery: function(toggleParam) {\n    var _this = this;\n    var newUrl = _this.siteUrl;\n\n    _this.queryString = window.location.search.substring(1);\n\n    if(_this.queryString) {\n      var foundInQuery = $.inArray(toggleParam, _this.paramArray) > -1;\n\n      if (foundInQuery && _this.paramArray.length > 1) {\n        _this.paramArray.splice(_this.paramArray.indexOf(toggleParam), 1);\n\n        newUrl += '?' + _this.queryVar + '=' + _this.paramArray.join('+');\n\n      } else if (!foundInQuery) {\n        _this.paramArray.push(toggleParam);\n\n        newUrl += '?' + _this.queryVar + '=' + _this.paramArray.join('+');\n\n      } else {\n        _this.paramArray = [];\n      }\n\n    } else {\n      _this.paramList = toggleParam;\n      _this.paramArray = [toggleParam];\n      newUrl += '?' + _this.queryVar + '=' + toggleParam;\n\n    }\n\n    _this.toggleCats(_this.paramArray);\n\n    window.history.replaceState(_this.paramList, 'Scott Barry', newUrl);\n  },\n\n  toggleCats: function(slugArray) {\n    var _this = this;\n\n    $('.sort-toggle').removeClass('active');\n\n    if (slugArray.length > 0) {\n      $('.js-sort-item').hide();\n\n      for(var i = 0; i < slugArray.length; i++) {\n        $('.js-sort-item.category-' + slugArray[i]).show();\n\n        $('.sort-toggle[data-cat=' + slugArray[i] + ']').addClass('active');\n      }\n    } else {\n      $('.js-sort-item').show();\n    }\n  }\n};\n\njQuery(document).ready(function () {\n  'use strict';\n\n  Site.init();\n\n});\n"],"sourceRoot":"/source/"}